sourceSets {
    test.compileClasspath += configurations.compileOnly
    test.runtimeClasspath += configurations.compileOnly
}

dependencies {
    compile "io.prometheus:simpleclient:${prometheusClientVersion}"
    compile "io.prometheus:simpleclient_common:${prometheusClientVersion}"
    compile "io.prometheus:simpleclient_hotspot:${prometheusClientVersion}"
    compile "io.prometheus:simpleclient_servlet:${prometheusClientVersion}"
    compile "org.aspectj:aspectjweaver"
    compile "com.google.guava:guava:${guavaVersion}"
    compile "com.github.ua-parser:uap-java:${uapVersion}"

    compileOnly project(':security-common')
    compileOnly "org.springframework:spring-webmvc"
    compileOnly "org.springframework:spring-context"
    compileOnly "org.springframework:spring-core"
    compileOnly "org.springframework.security:spring-security-web"
    compileOnly "org.slf4j:slf4j-api:"
    compileOnly "ch.qos.logback:logback-classic:"
    compileOnly "javax.servlet:javax.servlet-api"
    compileOnly "commons-io:commons-io"

    testCompile "org.aspectj:aspectjrt"
}
